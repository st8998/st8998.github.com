<!DOCTYPE HTML>
<html>
<head>
    <title>PixelWall Prototype 5</title>
    <link href="stylesheets/reset.css" rel="stylesheet">
    <link href="stylesheets/text.css" rel="stylesheet">
    <link href="stylesheets/main.css" rel="stylesheet">
    <script src="javascripts/jquery.js" type="text/javascript"></script>
    <script src="javascripts/jquery.tmpl.js" type="text/javascript"></script>
    <script src="javascripts/jquery.ui.widget.js" type="text/javascript"></script>
    <script src="javascripts/jquery.ui.mousescroll.js" type="text/javascript"></script>
    <script src="javascripts/shotspull.js" type="text/javascript"></script>
    <style>

    </style>
</head>
<body>

<script type="text/x-jquery-tmpl" id="shotTemplate">
    <div class="shot">
        <p>LOADING</p>
        <img src="${image_url}" alt="${title}"/>
    </div>
</script>

<script type="text/javascript">
    $(function() {

        var $shotTemplate = $('#shotTemplate');
        var $container = $('#container');
        var $window = $(window).scrollLeft(0);

        var shotsPull = new ShotsPull();

        shotsPull.get(30, renderShots);

        function renderShots(shots) {
            $container.width($container.width() + 200 * shots.length);
            var $shotsGroup = $('<div>', {
                'class': 'shotsGroup',
                'css': {width: 200 * shots.length}
            }).appendTo($container);
            $shotTemplate.tmpl(shots).appendTo($shotsGroup);
            $container.mouseScroll('option', 'scrollRange', $container.width() - $window.width());
            $shotsGroup.find('.shot img').mouseScroll({
                scrollRange: 50,
                bounceSize: 50,
                orientation: 'y'
            });
        }

        $container.mouseScroll();

//        $shotTemplate.tmpl({title: 'test', image_url: 'http://dribbble.com/system/users/536/screenshots/77607/shot_1289430469.png'}).appendTo($container);
//        $container.find('.shot img').mouseScroll({
//            scrollRange: 1,
//            bounceSize: 200
//        });

    });
</script>
<div id="container"></div>
</body>
</html>
